<?xml version="1.0" encoding="UTF-8"?>
<phpunit bootstrap="./bootstrap.maintenance.php"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://schema.phpunit.de/4.8/phpunit.xsd"
	colors="true"
	backupGlobals="false"
	convertErrorsToExceptions="true"
	convertNoticesToExceptions="true"
	convertWarningsToExceptions="true"
	forceCoversAnnotation="true"
	stopOnFailure="false"
	failOnRisky="true"
	beStrictAboutTestsThatDoNotTestAnything="true"
	beStrictAboutOutputDuringTests="true"
	verbose="false">
	<testsuites>
		<testsuite name="includes-api">
			<directory>includes/api</directory>
		</testsuite>
		<testsuite name="includes-auth">
			<directory>includes/auth</directory>
		</testsuite>
		<testsuite name="includes-block">
			<directory>includes/block</directory>
		</testsuite>
		<testsuite name="includes-cache">
			<directory>includes/cache</directory>
		</testsuite>
		<testsuite name="includes-changetags">
			<directory>includes/changetags</directory>
		</testsuite>
		<testsuite name="includes-content">
			<directory>includes/content</directory>
		</testsuite>
		<testsuite name="includes-db">
			<directory>includes/db</directory>
		</testsuite>
		<testsuite name="includes-deferred">
			<directory>includes/deferred</directory>
		</testsuite>
		<testsuite name="includes-externalstore">
			<directory>includes/externalstore</directory>
		</testsuite>
		<testsuite name="includes-filebackend">
			<directory>includes/filebackend</directory>
		</testsuite>
		<testsuite name="includes-filerepo">
			<directory>includes/filerepo</directory>
		</testsuite>
		<testsuite name="includes-import">
			<directory>includes/import</directory>
		</testsuite>
		<testsuite name="includes-jobqueue">
			<directory>includes/jobqueue</directory>
		</testsuite>
		<testsuite name="includes-libs">
			<directory>includes/libs</directory>
		</testsuite>
		<testsuite name="includes-media">
			<directory>includes/media</directory>
		</testsuite>
		<testsuite name="includes-page">
			<directory>includes/page</directory>
		</testsuite>
		<testsuite name="includes-parser">
			<directory>includes/parser</directory>
		</testsuite>
		<testsuite name="includes-permissions">
			<directory>includes/permissions</directory>
		</testsuite>
		<testsuite name="includes-resourceloader">
			<directory>includes/resourceloader</directory>
		</testsuite>
		<testsuite name="includes-revision">
			<directory>includes/Revision</directory>
		</testsuite>
		<testsuite name="includes-search">
			<directory>includes/search</directory>
		</testsuite>
		<testsuite name="includes-session">
			<directory>includes/session</directory>
		</testsuite>
		<testsuite name="includes-site">
			<directory>includes/site</directory>
		</testsuite>
		<testsuite name="includes-storage">
			<directory>includes/Storage</directory>
		</testsuite>
		<testsuite name="includes-title">
			<directory>includes/title</directory>
		</testsuite>
		<testsuite name="includes-upload">
			<directory>includes/upload</directory>
		</testsuite>
		<testsuite name="includes-user">
			<directory>includes/user</directory>
		</testsuite>
		<testsuite name="includes-utils">
			<directory>includes/utils</directory>
		</testsuite>
		<testsuite name="includes-watcheditem">
			<directory>includes/watcheditem</directory>
		</testsuite>
		<testsuite name="includes-other">
			<directory>includes</directory>
			<exclude>includes/api</exclude>
			<exclude>includes/auth</exclude>
			<exclude>includes/block</exclude>
			<exclude>includes/cache</exclude>
			<exclude>includes/changetags</exclude>
			<exclude>includes/content</exclude>
			<exclude>includes/db</exclude>
			<exclude>includes/deferred</exclude>
			<exclude>includes/externalstore</exclude>
			<exclude>includes/filebackend</exclude>
			<exclude>includes/filerepo</exclude>
			<exclude>includes/import</exclude>
			<exclude>includes/jobqueue</exclude>
			<exclude>includes/libs</exclude>
			<exclude>includes/media</exclude>
			<exclude>includes/page</exclude>
			<exclude>includes/parser</exclude>
			<exclude>includes/permissions</exclude>
			<exclude>includes/resourceloader</exclude>
			<exclude>includes/Revision</exclude>
			<exclude>includes/search</exclude>
			<exclude>includes/session</exclude>
			<exclude>includes/site</exclude>
			<exclude>includes/Storage</exclude>
			<exclude>includes/title</exclude>
			<exclude>includes/upload</exclude>
			<exclude>includes/user</exclude>
			<exclude>includes/utils</exclude>
			<exclude>includes/watcheditem</exclude>
		</testsuite>
		<testsuite name="languages">
			<directory>languages</directory>
		</testsuite>
		<testsuite name="parsertests">
			<file>suites/CoreParserTestSuite.php</file>
			<file>suites/ExtensionsParserTestSuite.php</file>
		</testsuite>
		<testsuite name="skins">
			<directory>skins</directory>
			<directory>structure</directory>
			<file>suites/ExtensionsTestSuite.php</file>
			<file>suites/LessTestSuite.php</file>
		</testsuite>
		<!-- As there is a class Maintenance, we cannot use the name "maintenance" directly -->
		<testsuite name="maintenance_suite">
			<directory>maintenance</directory>
		</testsuite>
		<testsuite name="structure">
			<directory>structure</directory>
		</testsuite>
		<testsuite name="tests">
			<directory>tests</directory>
		</testsuite>
		<testsuite name="extensions">
			<directory>structure</directory>
			<file>suites/ExtensionsTestSuite.php</file>
			<file>suites/ExtensionsParserTestSuite.php</file>
			<file>suites/LessTestSuite.php</file>
		</testsuite>
		<testsuite name="documentation">
			<directory>documentation</directory>
		</testsuite>
		<testsuite name="unit">
			<directory>unit</directory>
		</testsuite>
		<testsuite name="integration">
			<directory>integration</directory>
		</testsuite>
	</testsuites>
	<groups>
		<exclude>
			<group>Broken</group>
		</exclude>
	</groups>
	<filter>
		<whitelist addUncoveredFilesFromWhitelist="true">
			<directory suffix=".php">../../includes</directory>
			<directory suffix=".php">../../languages</directory>
			<directory suffix=".php">../../maintenance</directory>
			<exclude>
				<directory suffix=".php">../../languages/messages</directory>
				<directory suffix=".php">../../maintenance/benchmarks</directory>
				<file>../../languages/data/normalize-ar.php</file>
				<file>../../languages/data/normalize-ml.php</file>
			</exclude>
		</whitelist>
	</filter>
	<listeners>
		<listener class="JohnKary\PHPUnit\Listener\SpeedTrapListener">
			<arguments>
				<array>
					<element key="slowThreshold">
						<integer>50</integer>
					</element>
					<element key="reportLength">
						<integer>50</integer>
					</element>
				</array>
			</arguments>
		</listener>
	</listeners>
</phpunit>
